<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<!-- Highlight.js -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/vs.min.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
	<!-- main.js -->
	<script type="text/javascript" src="main.js" defer></script>
	<!-- css -->
	<link rel="stylesheet" href="styles.css">
	<!--fontawesome link for drop navigation bar  -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<title>DOM Turtorial</title>
</head>

<body>
	<div class="topnav" id="myTopnav">
		<a href="index.html" class="active">Home</a>
		<a href="index.html" class="active">Javascript</a>
		<a href="mysql_turtorial.html">MySQL</a>
		<a href="dom.html">DOM</a>
		<a href="java.html">Java</a>
		<a href="jsp.html">JSP</a>
		<a href="servlet.html">Servlet</a>
		<a href="about.html">About</a>
		<a href="javascript:void(0);" class="icon" onclick="myFunction()">
			<i class="fa fa-bars"></i>
		</a>
	</div>
	<form id="language">
		<select name="select">
			<option value="index.html" selected>日本語</option>
			<option value="index-english.html">English</option>
		</select>
	</form>
	 
		<h1>DOM Turtorial</h1>
		<div class="header_image">
	<img src="\pleiades\2022-09\workspace\ServeletProject2\headerIMG.jpg" alt="img"  width="390px"height="320px">
	</div>
	<p>特にわからなかったところ</p>
	<ol>
		<li><a href="#">A</a></li>
		<li><a href="#">B</a></li>
		<li><a href="#">C</a></li>
	</ol>
	
	<p id="output"></p>
	<p id="output1"></p>
	<p id="output2"></p>
	<p style= "color:blue ">HTML内にジャバスクリプトを記載するのは、規模が大きくなるにつれて何をどこに書いたのか大変わかりにくくなることがありますので、HTMLとJavascriptは分けて書きましょう。一部例外的に書くことはあります。</p>
	<h3>Function ! document.getElementById textContent = ()</h3>
	<h3>document.querySelector()　＝　場所を特定して表示させる。</h3>
<pre>
<code>
document.querySelector('#IDName, .className');
</code>
</pre>
<h3>これがDOMだ。</h3>
<ul>
<li>HTMLの情報をプログラムから扱いやすい形にして、メモリに保存したもの</li>
<li>DOMはツリー構造であると仮定する。</li>
<li>テキストは改行とスペースを含む。headの前は無視される。</li>
<li>devicePixcelRatioで画面幅を自動的に決めてもらう。UTF-8は文字化け対策のために必ず必要。</li>
<li>HTMLは必ずHEAD、BODYが必要。</li>
<li>ドキュメントノードとJavascriptドキュメントオブジェクトはシンクロ率100%</li>
</ul>

<h3>Chrome DevToolsを使ってDOMを操作する方法</h3>
<ul>
<li>検証を押して、左上のカーソルマークでウェブ上をクリックするとDOMが表示される。</li>
<li>DOMを5つクリックして$0 $1,$2,$3,$4とするとクリックした順にDOMが表示される。</li>
<li></li>
</ul>
<h3>html要素、head要素、body要素を取得する方法</h3>
<ul>
<li>ReadOnlyで取得するだけの構文</li>
</ul>
<pre>
<code>
let result = document.documentElement; 
result = document.head;
result = document.body;
result = document.childNodes;
result = document.body.firstChild;
result = document.body.lastChild;
result = document.body.parentNode;
result = document.head.nextSibling;
result = document.body.previousSibling;
console.dir(result);
</code>
</pre>
<h3>特定の要素を取得する方法　querySelector(), closet(), matches(), contains()</h3>
<ul>
<li>querySelectorは左の子孫ノードより選択する。</li>
<li>querySelectorAllは指定した全てのDOMを選択する。</li>
<li></li>
<li></li>
</ul>
<pre>
<code>
let result = document.documentElement; 
result = document.querySelector('#title'); //HTML　id titleと仮定した場合。titleを取得する。
result = document.querySelector('p'); //HTML　pと仮定した場合。p tagを取得する。

result = document.head.querySelector('p') //ヘッド要素にｐタグはありますか？querySelectorは左の子孫ノードより選択する。

result = document.querySelectorAll('p'); //pタグ全てを選択する。
result = document.body.matches('body') //boolean
result = document.contains(document.body);
result = document.getElementsByTagName('p')
result = document.body.getElementsByTagName('p')
result = document.getElementsByClassName(); // Classから取得
result = document.querySelectorAll('.ClassName') //Classより取得。
result = document.links; //すべてのリンク
result = document.forms; //すべてのフォーム
result = document.image; //すべてのイメージ
result = document.scripts; //すべてのscriptタグ
console.dir(result);
</code>
</pre>
<h3>DOMを変更する方法その1 innerHTML, insertAdjacentHTML</h3>
<ul>
<li>document.body.innerHTML　指定したHTML構文を全て置き換える。</li>
<li>insertAdjacentHTML 要素を追加できる。</li>
</ul>
<pre>
<code>
document.body.innerHTML = 'HTMLタグ　構文'　//h1とか
document.querySelector('div').innerHTML = 'HTMLタグ　構文'
document.querySelector('div').insertAdjacentHTML('beforeend', 'HTMLタグ　構文');//beforebegin afterbegin, beforeend, afterend
</code>
</pre>


<h3>テキストを変更する方法</h3>
<ul>
<li>document.body.innerHTML　クロスサイトスクリプティングにきおつけなければならない。</li>
<li>insertAdjacentHTML クロスサイトスクリプティングにきおつけなければならない。</li>
<li>テキストコンテントを使うと、全てのタグを取り除ける。</li>
<li>テキストコンテントの方がHTMLを読まないから早い。</li>
<li>insertAdjacentTextもある。あんまつかわない。</li>
<li>appendの位置はbeforeエンドの位置</li>
<li>prependのいちはaftarbeginの位置</li>
</ul>
<pre>
<code>
let result = document.documentElement; 
document.body.innerHTML = 'HTMLタグ　構文'　//h1とか
result = document.body.textContent;
result = document.body.insertAdjacentText('beforehand', 'Hello World');//あんまつかわない。
console.dir(result);

let p = document.createElement('p');
let text = document.createComment('comment');

p.innerHTML = 'Hello'; //pタグに文字を追加
p.text = 'Hello';

document.querySelector('div').append(p); //これで追加する。
</code>
</pre>
<h3>ボタンを押したら、H1の色を変える。</h3>
<p>main.jst</p>
<pre>
<code>
//ここでクエリーセレクターをして場所を特定させる。
const btn = document.querySelector('#btn');
const h1 = document.querySelector('h1');


function hello() {
    alert('hello');
    // this.style.color = 'red';
}
function changeColor() {
    h1.style.color = 'red';
}
function changeBgColor() {
    h1.style.backgroundColor = 'green';
}
//イベント名と関数名を記載する、
btn.addEventListener('click', changeColor);
btn.addEventListener('click', changeBgColor);
//removeされる。
btn.removeEventListener('click', changeBgColor);

//Eventhandler　は一つしか登録できない。
//btn.onclick = changeColor;
</code>
</pre>
<h3>DOMContentLoaded vs Loaded この例は画像をどちらが早く出力するかです。</h3>
<p>main.jst</p>
<pre>
<code>
//なるべく早くうぇぶサイトに反映させるにはDOMCOntentLoadedを使う。
document.addEventListener("DOMContentLoaded", function () {
    const dcl = document.querySelector('.dcl');
    dcl.classList.add('done');

    const h1 = document.querySelector('h1');
    h1.style.color = 'red';
});


//documentはロードには使えない。画像が表示されるまで待たなければならない。
window.addEventListener("load", function () {
    const load = document.querySelector('.load');
    load.classList.add('done');
});
</code>
</pre>
<h3>クラスでアニメーションを動かす。</h3>
<pre>
<code>
document.addEventListener('DOMContentLoaded', function () {
    const ta = new TextAnimation('.animate-title');
    const ta2 = new TextAnimation('.animate-title-2');
    setTimeout(() => {
        ta.animate();
        ta2.animate();
    }, 1000);
    
});



class TextAnimation {
	//コンストラクターはクラスができたときに必ず呼ばれる。
    constructor(el) {
        this.el = document.querySelector(el);
        this.chars = this.el.innerHTML.trim().split("");
        this.el.innerHTML = this._splitText();
    }
    //private method 明示的に（ここだけしか呼べませんよ）示してるだけ。Javascriptは完全なprivateにはならない。
    _splitText() {
        return this.chars.reduce((acc, curr) => {
            curr = curr.replace(/\s+/, '&nbsp;');
            return `${acc}<span class="char">${curr}</span>`;
        }, "");
    }
    //public method
    animate() {
        this.el.classList.toggle('inview');
    }
}

</code>
</pre>
<h3>クラスとオブジェクト。</h3>
<pre>
<code>
const obj = {
    first_name: 'Mafia',
    last_name: 'Code',
    //関数を呼び出すこともできる。
    printFullName: function() {
        console.log('hello');
    }
}

//呼び出し方。
//console.log(obj.first_name);
//obj.printFullName();

//クラスの演算子を用いてオブジェクトを記載する処理をここでする
//javascriptのクラスはオブジェクト生成するための一つのまとまり。
class MyObj {
	//コンストラクター関数
    constructor() {
	//初期化
        this.first_name = 'Mafia';
        this.last_name = 'Code';
    }

    printFullName() {
        console.log('hello');
    }
}

//ニュー演算子を使うことによって、オブジェクト生成ができるようになる。
const obj2 = new MyObj();


obj.printFullName();
obj2.printFullName();
</code>
</pre>
<h3>クラスとオブジェクト。</h3>
<pre>
<code>
const obj = {
    first_name: 'Mafia',
    last_name: 'Code',
    //関数を呼び出すこともできる。
    printFullName: function() {
        console.log('hello');
    }
}

//呼び出し方。
//console.log(obj.first_name);
//obj.printFullName();

//クラスの演算子を用いてオブジェクトを記載する処理をここでする
//javascriptのクラスはオブジェクト生成するための一つのまとまり。
//クラスを定義した時点では、クラス名.first_name やクラス名.last_nameはできない。
//なぜならば、const obj2 = new MyObj();　<　=ここでクラスは生成されるから。
class MyObj {
	//コンストラクター関数
    constructor() {
	//初期化
        this.first_name = 'Mafia';
        this.last_name = 'Code';
    }

    printFullName() {
        console.log('hello');
    }
}

//ニュー演算子を使うことによって、オブジェクト生成ができるようになる。
const obj2 = new MyObj();


obj.printFullName();
obj2.printFullName();
</code>
</pre>

</body>

</html>